---
import PageLayout from '../components/PageLayout.astro';
import LeagueHeader from '../components/LeagueHeader.astro';
import LeagueNav from '../components/LeagueNav.astro';
import Leaderboard from '../components/Leaderboard.astro';
import { loadLeaguesConfig, loadLeagueStandings } from '../utils/data';

const config = loadLeaguesConfig();
const allLeagues = config.leagues;

// Show the newest league (first in the list) on the index page
const currentLeague = allLeagues[0];
const isOverall = false;
const standings = loadLeagueStandings(currentLeague.name);
---

<PageLayout>
  <LeagueHeader />
  <LeagueNav currentLeague={currentLeague} allLeagues={allLeagues} isOverall={isOverall} />
  <Leaderboard standings={standings} />
</PageLayout>
